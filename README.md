  我知道你会问：“你是谁，为什么要写这本书，我为什么要读这本书？”
我至今仍然处在编程事业的初期。人们说，不管从事什么工作，都要历经从新手到熟手的
过程，最终有可能成为大师。我要说的是，我最多算是个熟练的程序员。但我很幸运，在
事业的早期阶段就结识了一群测试驱动开发（Test-Driven Development，TDD）的狂热爱
好者，这对我的编程事业产生了极大影响，让我迫不及待地想和所有人分享这段经历。可
以说，我很积极地做出了最近这次转变，而且这段学习经历现在还历历在目，我希望能让
初学者感同身受。

  我在开始学习 Python 时（看的是 Mark Pilgrim 写的 Dive Into Python），偶然知道了 TDD 的
概念。我当时就认为：“是的，我绝对知道这个概念的意义所在。”或许你第一次听说 TDD
时也有类似的反应吧。它听起来像是一个非常合理的方案，一个需要养成的非常好的习
惯——就像经常刷牙。
随后我做了第一个大型项目。你可能猜到了，有项目就会有客户，有最后期限，有很多事
情要做。于是，所有关于 TDD 的好想法都被抛诸脑后。
的确，这对项目没什么影响，对我也没影响。
但只是在初期如此。

  一开始，我知道并不真的需要使用 TDD，因为我做的是个小网站，手动检查就能轻易测试
出是否能用。在这儿点击链接，在那儿选中下拉菜单选项，就应该有预期的效果，很简单。
编写整套测试程序听起来似乎要花费很长时间，而且经过整整三周成熟的代码编写经历，
我自负地认为自己已经成为一名出色的程序员了，我能顺利完成这个项目，这没什么难度。
随后，项目变得复杂得可怕，这很快暴露了我的经验不足。

  项目不断变大。系统的不同部分之间要开始相互依赖。我尽量遵守良好的开发原则，例如
“不要自我重复”（Don’t Repeat Yourself，DRY），却被带进了一片危险地带。我很快就用
到了多重继承，类的继承有八个层级深，还用到了 eval 语句。
 
  我不敢修改代码，不再像以前一样知道什么依赖什么，也不知道修改某处的代码可能会导
致什么后果。噢，天呐，我觉得那部分继承自这里，不，不是继承，是重新定义了，可是
却依赖那个类变量。嗯，好吧，如果我再次重定义以前重定义的部分，应该就可以了。我
会检查的，可是检查变得更难了。网站中的内容越来越多，手动点击变得不切实际了。最
好别动这些能运行的代码，不要重构，就这么凑合吧。

  很快，代码就变得像一团麻，丑陋不堪。开发新功能变得很痛苦。
  
  在此之后不久，我幸运地在 Resolver Systems 公司（现在叫 PythonAnywhere）找到了一份
工作。这个公司遵循极限编程（Extreme Programming，XP）开发理念。他们向我介绍了
严密的 TDD。

  虽然之前的经验的确让我认识到自动化测试的好处，但我在每个阶段都心存疑虑。“我的
意思是，测试通常来说可能是个不错的主意，但果真如此吗？全部都要测试吗？有些测试
看起来完全是在浪费时间……什么？除了单元测试之外还要做功能测试？得了吧，这是多
此一举！还要走一遍测试驱动开发中的‘测试 / 小幅度代码改动 / 测试 ’ 循环？太荒谬了！
我们不需要这种婴儿学步般的过程！既然我们知道正确的答案是什么，为什么不直接跳到
最后一步呢？”

  相信我！我审视过每一条规则，给每一条捷径提出过建议，为 TDD 的每一个看似毫无意
义的做法寻找过理由，最终，我发现了采用 TDD 的明智之处。我记不清在心里说过多少
次“谢谢你，测试”，因为功能测试能揭示我们可能永远都无法预测的回归，单元测试能
让我避免犯很愚蠢的逻辑错误。从心理学上讲，TDD 大大降低了开发过程中的压力，而且
写出的代码让人赏心悦目。
  那么，让我告诉你关于 TDD 的一切吧！
  
引自: 《Python测试驱动开发》